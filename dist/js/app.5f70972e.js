(function(t){function e(e){for(var s,r,n=e[0],l=e[1],c=e[2],m=0,u=[];m<n.length;m++)r=n[m],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},o=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},4739:function(t,e,a){"use strict";a("6e21")},"480b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r=(a("034f"),a("2877")),n={},l=Object(r["a"])(n,i,o,!1,null,null,null),c=l.exports,d=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row px-0 py-0 mx-0 my-0"},[t.onProfile?a("Profile",{staticClass:"col-4 d-none d-sm-block shadow-sm",staticStyle:{"background-color":"white"},on:{clicked:t.offProfile}}):t._e(),t.onProfile?a("Profile",{staticClass:"col-12 d-block d-sm-none shadow-sm",staticStyle:{"background-color":"white"},on:{clicked:t.offProfile}}):a("div",{staticClass:"col-sm-4 col-12 px-4 pt-3",staticStyle:{"background-color":"white","max-height":"100vh"}},[t.showChat?t._e():a("div",{staticClass:"d-block d-sm-none overflow-auto",staticStyle:{height:"100vh"}},[a("div",{staticClass:"d-flex justify-content-center align-items-center overflow-auto"},[a("div",{staticClass:"flex-fill text-center"},[a("span",{staticClass:"main-font",staticStyle:{"font-size":"30px","font-weight":"1000"}},[t._v(" OnTalk ")])]),a("div",{staticClass:"flex-fill text-right"},[a("div",{directives:[{name:"cursor",rawName:"v-cursor",value:{cursor:"pointer"},expression:"{ cursor: 'pointer' }"}]},[a("i",{staticClass:"fas fa-bars main-font",staticStyle:{"font-size":"30px"},on:{click:function(e){return e.preventDefault(),t.showPopMenu(e)}}})]),t.popMenu?a("div",{staticClass:"position-absolute w-50 d-flex justify-content-center mr-5 mr-lg-0",staticStyle:{"z-index":"50"}},[a("div",{staticClass:"shadow rounded bg-light"},[a("div",{directives:[{name:"cursor",rawName:"v-cursor",value:{cursor:"pointer"},expression:"{ cursor: 'pointer' }"}],staticClass:"border-bottom p-2",on:{click:t.profile}},[a("span",{staticStyle:{"font-weight":"1000"}},[t._v("Profile")])]),a("div",{directives:[{name:"cursor",rawName:"v-cursor",value:{cursor:"pointer"},expression:"{ cursor: 'pointer' }"}],staticClass:"p-2",on:{click:t.onLogout}},[a("span",{staticStyle:{"font-weight":"1000"}},[t._v("Logout")])])])]):t._e()])]),a("div",{staticClass:"d-flex px-lg-4 px-2 mt-5"},[a("div",{staticClass:"flex-fill"},[a("form",{attrs:{action:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchUser,expression:"searchUser"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search user..."},domProps:{value:t.searchUser},on:{keyup:t.onSearch,input:function(e){e.target.composing||(t.searchUser=e.target.value)}}})])]),a("div",{staticClass:"ml-3 flex-fill"},[a("i",{staticClass:"fas fa-plus main-font",staticStyle:{"font-size":"30px","padding-top":"5px"}})]),t.eventSearch?a("div",{staticClass:"position-absolute",staticStyle:{background:"white"}},t._l(t.listAllUsers,(function(e){return a("div",{key:e.id},[a("img",{staticClass:"image-fluid",staticStyle:{"border-radius":"10px","max-width":"30px"},attrs:{src:t.Web_URL+"/images/"+e.image,alt:"user image"}}),a("span",{staticClass:"ml-3"},[t._v(t._s(e.username))])])})),0):t._e()]),a("div",{staticClass:"row d-flex justify-content-center align-items-center p-lg-3 p-0 mt-4 flex-sm-column flex-md-row mb-md-3"},[a("button",{staticClass:"btn text-light mainBtn ml-lg-4 mt-sm-2 mt-md-0 ml-0"},[t._v(" All ")]),a("button",{staticClass:"btn text-light mainBtn ml-lg-4 mt-sm-2 mt-md-0 ml-1"},[t._v(" Important ")]),a("button",{staticClass:"btn text-light mainBtn ml-lg-4 mt-sm-2 mt-md-0 ml-1"},[t._v(" Unread ")])]),a("div",{staticClass:"border-top mt-md-2 mt-5"},t._l(t.friends,(function(e){return a("div",{key:e.id,staticClass:"d-flex p-2 mt-md-2 border-bottom",on:{click:function(a){return t.toMsg(e.id,e.name)}}},[a("img",{staticClass:"image-fluid",staticStyle:{"border-radius":"10px","max-width":"40px"},attrs:{src:t.Web_URL+"/images/"+e.image,alt:"user image"}}),a("span",{staticClass:"ml-3",staticStyle:{"font-size":"17px","font-weight":"800"}},[t._v(t._s(e.username))])])})),0)]),a("div",{staticClass:"d-none d-sm-block"},[a("div",{staticClass:"d-flex justify-content-center align-items-center overflow-auto"},[a("div",{staticClass:"flex-fill text-center"},[a("span",{staticClass:"main-font",staticStyle:{"font-size":"30px","font-weight":"1000"}},[t._v(" OnTalk ")])]),a("div",{staticClass:"flex-fill text-right"},[a("div",{directives:[{name:"cursor",rawName:"v-cursor",value:{cursor:"pointer"},expression:"{ cursor: 'pointer' }"}]},[a("i",{staticClass:"fas fa-bars main-font",staticStyle:{"font-size":"30px"},on:{click:function(e){return e.preventDefault(),t.showPopMenu(e)}}})]),t.popMenu?a("div",{staticClass:"position-absolute w-50 d-flex justify-content-center mr-5 mr-lg-0",staticStyle:{"z-index":"50"}},[a("div",{staticClass:"shadow rounded bg-light"},[a("div",{directives:[{name:"cursor",rawName:"v-cursor",value:{cursor:"pointer"},expression:"{ cursor: 'pointer' }"}],staticClass:"border-bottom p-2",on:{click:t.profile}},[a("span",{staticStyle:{"font-weight":"1000"}},[t._v("Profile")])]),a("div",{directives:[{name:"cursor",rawName:"v-cursor",value:{cursor:"pointer"},expression:"{ cursor: 'pointer' }"}],staticClass:"p-2",on:{click:t.onLogout}},[a("span",{staticStyle:{"font-weight":"1000"}},[t._v("Logout")])])])]):t._e()])]),a("div",{staticClass:"d-flex px-lg-4 px-2 mt-5"},[a("div",{staticClass:"flex-fill"},[a("form",{attrs:{action:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchUser,expression:"searchUser"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search user..."},domProps:{value:t.searchUser},on:{keyup:t.onSearch,input:function(e){e.target.composing||(t.searchUser=e.target.value)}}})])]),a("div",{staticClass:"ml-3 flex-fill"},[a("i",{staticClass:"fas fa-plus main-font",staticStyle:{"font-size":"30px","padding-top":"5px"}})]),t.eventSearch?a("div",{staticClass:"position-absolute bg-light w-50 mt-5 px-2 rounded pt-2 border"},t._l(t.listAllUsers,(function(e){return a("div",{key:e.id,staticClass:"border-bottom pb-1 mt-1 d-flex align-items-center"},[a("div",{staticClass:"flex-shrink-1"},[a("img",{staticClass:"image-fluid",staticStyle:{"border-radius":"10px","max-width":"30px"},attrs:{src:t.Web_URL+"/images/"+e.image,alt:"user image"}})]),a("div",{staticClass:"flex-fill text-left"},[a("span",{staticClass:"ml-2"},[t._v(t._s(e.username))])]),a("div",{staticClass:"flex-fill text-right",on:{click:function(a){return t.addFriend(e.id)}}},[a("i",{staticClass:"fas fa-plus main-font",staticStyle:{"font-size":"20px"}})])])})),0):t._e()]),a("div",{staticClass:"row d-flex justify-content-center p-lg-3 p-0 mt-4 flex-sm-column flex-md-row mb-md-3"},[a("button",{staticClass:"btn flex-fill text-light mainBtn ml-lg-4 mt-sm-2 mt-md-0 ml-0"},[t._v(" All ")]),a("button",{staticClass:"btn flex-fill text-light mainBtn ml-lg-4 mt-sm-2 mt-md-0 ml-1"},[t._v(" Important ")]),a("button",{staticClass:"btn flex-fill text-light mainBtn ml-lg-4 mt-sm-2 mt-md-0 ml-1"},[t._v(" Unread ")])]),a("div",{staticClass:"border-top mt-md-2 mt-5"},t._l(t.friends,(function(e){return a("div",{key:e.id,staticClass:"d-flex p-2 mt-md-2 border-bottom",on:{click:function(a){return t.toMsg(e.id,e.name)}}},[a("img",{staticClass:"image-fluid",staticStyle:{"border-radius":"10px","max-width":"40px"},attrs:{src:t.Web_URL+"/images/"+e.image,alt:"user image"}}),a("span",{staticClass:"ml-3",staticStyle:{"font-size":"17px","font-weight":"800"}},[t._v(t._s(e.username))])])})),0)])]),a("div",{staticClass:"col-sm-8 d-none d-sm-block px-0 py-0 mt-0 msg-side",staticStyle:{overflow:"hidden",height:"100vh","z-index":"7"}},[t.showChat?a("div",[a("div",{staticClass:"col-sm-11 col-12 ml-3 ml-sm-0 d-flex justify-content-end"},[t.targetProfile?a("div",{staticClass:"col-12 col-sm-8 col-md-7 col-lg-5 mt-sm-4 mt-0 ml-5 border position-absolute d-flex justify-content-end align-items-end",staticStyle:{background:"white","z-index":"10"}},[a("TargetProfile")],1):t._e()]),a("div",{staticClass:"ml-0 ml-sm-2 shadow-sm col-12 row",staticStyle:{"background-color":"white",height:"15vh"}},[a("div",{staticClass:"d-flex flex-fill py-md-4 py-2 col-9 col-md-9 col-lg-10"},[a("img",{staticClass:"d-block ml-md-3 ml-0",staticStyle:{"max-width":"50px"},attrs:{src:t.Web_URL+"/images/"+t.targetUser.image,alt:"picture"}}),a("div",{staticClass:"d-flex align-items-center"},[a("span",{staticClass:"ml-4",staticStyle:{"font-weight":"1000"}},[t._v(t._s(t.targetUser.name))])])]),a("div",{staticClass:"col-1 flex-fill d-flex align-items-center ml-md-5 ml-0"},[a("div",{directives:[{name:"cursor",rawName:"v-cursor",value:{cursor:"pointer"},expression:"{ cursor: 'pointer' }"}],on:{click:t.showTargetProfile}},[t._m(0)])])]),a("div",{staticClass:"body-msg",staticStyle:{height:"70vh","overflow-y":"scroll"}},[a("div",{staticClass:"mt-3 px-5 py-2"},t._l(t.chats,(function(e){return a("div",{key:e.id},[e.user_id==t.id_user?a("div",{staticClass:"d-flex justify-content-end mt-1"},[a("div",{staticClass:"text-dark p-2",staticStyle:{background:"white","border-radius":"10px"}},[a("div",{staticClass:"d-inline-block mr-3",staticStyle:{"font-size":"10px"}},[t._v(" "+t._s(t.toDate(e.created_at))+" ")]),t._v(" "+t._s(e.message)+" ")])]):a("div",{staticClass:"d-flex justify-content-start mt-1"},[a("div",{staticClass:"text-light p-2",staticStyle:{background:"#7e98df","border-radius":"10px"}},[t._v(" "+t._s(e.message)+" "),a("div",{staticClass:"d-inline-block ml-3",staticStyle:{"font-size":"10px"}},[t._v(" "+t._s(t.toDate(e.created_at))+" ")])])])])})),0)]),a("div",{staticClass:"p-4 ml-0 ml-sm-2 bot-msg shadow",staticStyle:{"background-color":"white",height:"15vh"}},[a("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.sendMsg(e)}}},[a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("div",{staticClass:"form-group w-100"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-control border",staticStyle:{background:"#dedfe0"},attrs:{type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),a("button",{staticClass:"btn mainBtn mx-3 mb-3",staticStyle:{color:"white"},attrs:{type:"submit"}},[t._v(" Send ")])])])])]):a("div",{staticClass:"d-sm-flex d-none justify-content-center align-items-center",staticStyle:{overflow:"hidden",height:"100vh"}},[a("h4",[t._v("Click on your friend list to start chatting!")])])]),t.showChat?a("div",{staticClass:"d-block position-absolute d-sm-none col-12 px-0 py-0 mt-0 msg-side",staticStyle:{overflow:"hidden",height:"100vh","z-index":"7"}},[a("div",[a("div",{staticClass:"col-sm-11 col-12 ml-3 ml-sm-0 d-flex justify-content-end"},[t.targetProfile?a("div",{staticClass:"col-12 col-sm-8 col-md-7 col-lg-5 mt-sm-4 mt-0 ml-5 border position-absolute d-flex justify-content-end align-items-end",staticStyle:{background:"white","z-index":"10"}},[a("TargetProfile",{on:{offTarget:t.offTarget}})],1):t._e()]),a("div",{staticClass:"ml-0 ml-sm-2 shadow-sm col-12 row",staticStyle:{"background-color":"white",height:"15vh"}},[a("div",{staticClass:"d-flex flex-fill py-md-4 py-2 col-9 col-md-9 col-lg-10"},[a("div",{staticClass:"d-block d-sm-none d-flex align-items-center mr-3",on:{click:t.closeChat}},[a("i",{staticClass:"fas fa-chevron-left main-font",staticStyle:{"font-size":"30px"}})]),a("img",{staticClass:"d-block ml-md-3 ml-0",staticStyle:{"max-width":"50px"},attrs:{src:t.Web_URL+"/images/"+t.targetUser.image,alt:"picture"}}),a("div",{staticClass:"d-flex align-items-center"},[a("span",{staticClass:"ml-4",staticStyle:{"font-weight":"1000"}},[t._v(t._s(t.targetUser.name))])])]),a("div",{staticClass:"col-1 flex-fill d-flex align-items-center ml-md-5 ml-0"},[a("div",{directives:[{name:"cursor",rawName:"v-cursor",value:{cursor:"pointer"},expression:"{ cursor: 'pointer' }"}],on:{click:t.showTargetProfile}},[t._m(1)])])]),a("div",{staticClass:"body-msg",staticStyle:{height:"70vh","overflow-y":"scroll"}},[a("div",{staticClass:"mt-3 px-5 py-2"},t._l(t.chats,(function(e){return a("div",{key:e.id},[e.user_id==t.id_user?a("div",{staticClass:"d-flex justify-content-end mt-1"},[a("div",{staticClass:"text-dark p-2",staticStyle:{background:"white","border-radius":"10px"}},[a("div",{staticClass:"d-inline-block mr-3",staticStyle:{"font-size":"10px"}},[t._v(" "+t._s(t.toDate(e.created_at))+" ")]),t._v(" "+t._s(e.message)+" ")])]):a("div",{staticClass:"d-flex justify-content-start mt-1"},[a("div",{staticClass:"text-light p-2",staticStyle:{background:"#7e98df","border-radius":"10px"}},[t._v(" "+t._s(e.message)+" "),a("div",{staticClass:"d-inline-block ml-3",staticStyle:{"font-size":"10px"}},[t._v(" "+t._s(t.toDate(e.created_at))+" ")])])])])})),0)]),a("div",{staticClass:"p-4 ml-0 ml-sm-2 bot-msg shadow",staticStyle:{"background-color":"white",height:"15vh"}},[a("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.sendMsg(e)}}},[a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("div",{staticClass:"form-group w-100"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-control border",staticStyle:{background:"#dedfe0"},attrs:{type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),a("button",{staticClass:"btn mainBtn mx-3 mb-3",staticStyle:{color:"white"},attrs:{type:"submit"}},[t._v(" Send ")])])])])])]):t._e()],1)},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"text-left main-font",staticStyle:{"font-size":"30px"}},[a("i",{staticClass:"fas fa-ellipsis-v"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"text-left main-font",staticStyle:{"font-size":"30px"}},[a("i",{staticClass:"fas fa-ellipsis-v"})])}],f=(a("d81d"),a("b0c0"),a("a9e3"),a("5530")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-5 overflow-auto",staticStyle:{"max-height":"100vh"}},[a("div",[a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"flex-fill"},[a("i",{staticClass:"fas fa-chevron-left main-font",staticStyle:{"font-size":"30px"},on:{click:t.offProfile}})]),t._m(0)]),a("div",[a("div",{staticClass:"mt-5"},[a("div",{staticClass:"d-flex flex-column align-items-center"},[t.detailUser.image?a("div",[a("img",{staticClass:"image-fluid rounded",staticStyle:{"max-width":"80px"},attrs:{src:t.Web_URL+"/images/"+t.detailUser.image,alt:"Profile Picture"}})]):a("div",[a("b-spinner",{staticStyle:{width:"4rem",height:"4rem"},attrs:{variant:"info"}})],1),a("input",{ref:"fileInput",attrs:{type:"file",hidden:"",accept:"image/*"},on:{change:function(e){return t.onFilePicked(e)}}}),a("div",{staticClass:"position-absolute text-center mainBtn configPhoto",on:{click:t.onPickFile}},[a("i",{staticClass:"fas fa-pencil-alt"})]),a("div",{staticClass:"position-absolute mt-4 text-center mainBtn configPhoto",on:{click:t.delPhoto}},[a("i",{staticClass:"fas fa-trash-alt"})])]),a("div",{staticClass:"text-center mt-3"},[a("h6",[t._v(t._s(t.userData.bio))])])])]),a("div",{staticClass:"mt-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.save()}}},[a("div",{staticClass:"d-flex justify-content-end"},[t.toEdit?a("div",{staticClass:"btn mainBtn text-light",on:{click:t.onEdit}},[t._v(" Edit ")]):a("button",{staticClass:"btn mainBtn text-light",attrs:{type:"submit"}},[t._v(" Save Edit ")])]),a("div",{staticClass:"form-group mr-3"},[a("label",{staticClass:"text-dark",attrs:{for:""}},[t._v("Bio")]),t.toEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.bio,expression:"detailUser.bio"}],staticClass:"form-control shadow-none bg-light",attrs:{type:"text",disabled:""},domProps:{value:t.detailUser.bio},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"bio",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.bio,expression:"detailUser.bio"}],staticClass:"form-control shadow-none",attrs:{type:"text"},domProps:{value:t.detailUser.bio},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"bio",e.target.value)}}})]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"form-group border-right pr-2 mr-3"},[a("label",{attrs:{for:""}},[t._v("Username")]),t.toEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.username,expression:"detailUser.username"}],staticClass:"form-control shadow-none bg-light",attrs:{type:"text",disabled:""},domProps:{value:t.detailUser.username},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"username",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.username,expression:"detailUser.username"}],staticClass:"form-control shadow-none",attrs:{type:"text"},domProps:{value:t.detailUser.username},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"username",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Email")]),t.toEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.email,expression:"detailUser.email"}],staticClass:"form-control shadow-none bg-light",attrs:{type:"text",disabled:""},domProps:{value:t.detailUser.email},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"email",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.email,expression:"detailUser.email"}],staticClass:"form-control shadow-none",attrs:{type:"text"},domProps:{value:t.detailUser.email},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"email",e.target.value)}}})])]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"form-group border-right pr-2 mr-3"},[a("label",{attrs:{for:""}},[t._v("Name")]),t.toEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.name,expression:"detailUser.name"}],staticClass:"form-control shadow-none bg-light",attrs:{type:"text",disabled:""},domProps:{value:t.detailUser.name},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"name",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.name,expression:"detailUser.name"}],staticClass:"form-control shadow-none",attrs:{type:"text"},domProps:{value:t.detailUser.name},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Phone")]),t.toEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.phone,expression:"detailUser.phone"}],staticClass:"form-control shadow-none bg-light",attrs:{type:"text",disabled:""},domProps:{value:t.detailUser.phone},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"phone",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.phone,expression:"detailUser.phone"}],staticClass:"form-control shadow-none",attrs:{type:"text"},domProps:{value:t.detailUser.phone},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"phone",e.target.value)}}})])]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"form-group mr-3 border-right pr-2"},[a("label",{attrs:{for:""}},[t._v("Latitude")]),t.toEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.lat,expression:"detailUser.lat"}],staticClass:"form-control shadow-none bg-light",attrs:{type:"text",disabled:""},domProps:{value:t.detailUser.lat},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"lat",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.lat,expression:"detailUser.lat"}],staticClass:"form-control shadow-none",attrs:{type:"text"},domProps:{value:t.detailUser.lat},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"lat",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Longitude")]),t.toEdit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.lng,expression:"detailUser.lng"}],staticClass:"form-control shadow-none bg-light",attrs:{type:"text",disabled:""},domProps:{value:t.detailUser.lng},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"lng",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailUser.lng,expression:"detailUser.lng"}],staticClass:"form-control shadow-none",attrs:{type:"text"},domProps:{value:t.detailUser.lng},on:{input:function(e){e.target.composing||t.$set(t.detailUser,"lng",e.target.value)}}})])])])]),a("GoogleMapMaps",{staticClass:"maps",attrs:{center:{lat:Number(t.detailUser.lat),lng:Number(t.detailUser.lng)},zoom:8}},[a("GoogleMapMarker",{attrs:{position:{lat:parseFloat(t.detailUser.lat),lng:parseFloat(t.detailUser.lng)}}})],1)],1)])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-fill"},[a("h1",{staticClass:"main-font"},[t._v("Profile")])])}],v=a("755e"),h=a("2f62"),x=(a("d3b7"),a("ac1f"),a("5319"),a("3d20")),b=a.n(x),C={data:function(){return{teslain:"tes mixin",toggleSidebar:!0}},methods:{swalAlert:function(t,e,a){b.a.fire({icon:a,title:t,text:e}),alert(t+e+a)},curency:function(t){var e=t.toLocaleString("id",{style:"currency",currency:"IDR"}).replace(",00","").replace("Rp","Rp.");return e},swalPop:function(t,e,a){b.a.fire({icon:a,title:t,text:e})},swalConfirm:function(t,e,a){return new Promise((function(s){b.a.fire({title:t,text:e,icon:a,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(t){t.isConfirmed?s(!0):s(!1)}))}))},swalLoading:function(t){b.a.fire({title:t,allowOutsideClick:!1,showConfirmButton:!1,willOpen:function(){b.a.showLoading()}})},swalLoadingClose:function(){b.a.close()},linkTo:function(t){this.$router.push("/".concat(t))},toDate:function(t){return new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}},directives:{cursor:function(t,e){t.style="cursor:".concat(e.value.cursor)}}},w={mixins:[C],data:function(){return{userData:{},imgUrl:"",image:"",toEdit:!0,Web_URL:"http://54.164.121.31:4234"}},components:{GoogleMapMaps:v["Map"],GoogleMapMarker:v["Marker"]},computed:Object(f["a"])({},Object(h["c"])({detailUser:"users/detailUser"})),methods:Object(f["a"])(Object(f["a"])({},Object(h["b"])({actDetailUser:"users/actDetailUser",actUpdateUser:"users/actionUpdateUser",actDeletePhoto:"users/actDeletePhoto"})),{},{offProfile:function(){this.$emit("clicked",!1)},onEdit:function(){this.toEdit=!1},onPickFile:function(){this.$refs.fileInput.click()},save:function(){var t=this;this.swalConfirm("Do you want to save change?","","question").then((function(e){e&&(t.swalLoading("Updating Data"),t.actUpdateUser(t.detailUser).then((function(e){500===e.code&&(t.swalLoadingClose(),t.swalPop("Failed Update Data",e.message,"error")),t.actDetailUser(localStorage.getItem("id")),t.swalLoadingClose(),t.toEdit=!0,t.swalPop("Success Update Data","","success")})))}))},onFilePicked:function(t){var e=this,a=t.target.files,s=new FileReader;s.addEventListener("load",(function(){e.imageUrl=s.result})),s.readAsDataURL(a[0]);var i=new FormData;i.append("image",a[0]),console.log(a[0]),this.actUpdateUser(i).then((function(t){console.log(t),500===t.code?e.swalPop("Update Photo Fail",t.message,"error"):(e.actDetailUser(localStorage.getItem("id")),e.swalPop("Update Photo Success","","success"))})).catch((function(t){console.log(t)}))},delPhoto:function(){var t=this;this.swalConfirm("Do you want to delete photo?","","warning").then((function(e){e&&t.actDeletePhoto().then((function(e){500===e.code?t.swalPop("Failed",e.message,"error"):(t.actDetailUser(localStorage.getItem("id")),t.swalPop("Success Delete Photo","","success")),console.log(e)})).catch((function(t){console.log(t)}))}))}}),mounted:function(){this.actDetailUser(localStorage.getItem("id"))}},U=w,_=(a("d72e"),Object(r["a"])(U,p,g,!1,null,null,null)),y=_.exports,S=a("8e27"),P=a.n(S),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overflow-auto",staticStyle:{"max-height":"100vh"}},[a("div",[a("div",{staticClass:"d-flex align-items-center",on:{click:t.offTarget}},[t._m(0),t._m(1)]),a("div",[a("div",{staticClass:"mt-5"},[a("div",{staticClass:"d-flex flex-column align-items-center"},[t.targetUser.image?a("div",{staticClass:"d-flex flex-column align-items-center"},[a("img",{staticClass:"image-fluid rounded",staticStyle:{"max-width":"80px"},attrs:{src:t.Web_URL+"/images/"+t.targetUser.image,alt:"Profile Picture"}}),a("div",{staticClass:"mt-2 text-center"},[a("h5",[t._v(t._s(t.targetUser.name))]),a("h6",[t._v(t._s(t.targetUser.bio))])])]):a("div",[a("b-spinner",{staticStyle:{width:"4rem",height:"4rem"},attrs:{variant:"info"}})],1)])])]),a("div",{staticClass:"d-flex mt-5"},[t._m(2),a("div",{staticClass:"flex-fill ml-3"},[a("h6",[t._v(t._s(t.targetUser.username))]),a("h6",{staticClass:"mt-3"},[t._v(t._s(t.targetUser.email))]),a("h6",{staticClass:"mt-3"},[t._v(t._s(t.targetUser.phone))])])]),a("GoogleMapMaps",{staticClass:"maps",attrs:{center:{lat:Number(t.targetUser.lat),lng:Number(t.targetUser.lng)},zoom:8}},[a("GoogleMapMarker",{attrs:{position:{lat:parseFloat(t.targetUser.lat),lng:parseFloat(t.targetUser.lng)}}})],1)],1)])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-block d-sm-none d-flex align-items-center mr-3"},[a("i",{staticClass:"fas fa-chevron-left main-font",staticStyle:{"font-size":"30px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-fill"},[a("h1",{staticClass:"main-font text-center mt-2"},[t._v("Profile")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"felx-fill text-left"},[a("h6",[t._v("Username:")]),a("h6",{staticClass:"mt-3"},[t._v("Email:")]),a("h6",{staticClass:"mt-3"},[t._v("Phone:")])])}],j={mixins:[C],data:function(){return{userData:{},imgUrl:"",image:"",toEdit:!0,Web_URL:"http://54.164.121.31:4234"}},components:{GoogleMapMaps:v["Map"],GoogleMapMarker:v["Marker"]},computed:Object(f["a"])({},Object(h["c"])({targetUser:"users/getDetailTarget"})),methods:{offTarget:function(){this.$emit("offTarget",!1)}},mounted:function(){}},I=j,L=(a("4739"),Object(r["a"])(I,k,D,!1,null,null,null)),E=L.exports,N={mixins:[C],name:"Home",data:function(){return{socket:P()("http://localhost:4000"),Web_URL:"http://54.164.121.31:4234",onProfile:!1,user:"",showChat:!1,id_user:0,targetProfile:!1,target:"",id_target:0,roomId:0,text:"",chats:[],friends:[],popMenu:!1,searchUser:"",listAllUsers:[],eventSearch:!1}},components:{Profile:y,TargetProfile:E},computed:Object(f["a"])({},Object(h["c"])({allUsers:"users/getAllUsers",detailUser:"users/detailUser",targetUser:"users/getDetailTarget",userData:"auth/getUserData"})),methods:Object(f["a"])(Object(f["a"])({offProfile:function(t){this.onProfile=t},showTargetProfile:function(){this.targetProfile=!this.targetProfile},closeChat:function(){this.showChat=!1},offTarget:function(t){this.targetProfile=t},onSearch:function(){var t=this,e={id:Number(localStorage.getItem("id")),filter:this.searchUser};this.actAllUsers(e).then((function(){t.listAllUsers=t.allUsers,t.searchUser.length>0&&t.listAllUsers.length>0?t.eventSearch=!0:t.eventSearch=!1})).catch((function(t){console.log(t)}))},addFriend:function(t){var e={roomId:Number(localStorage.getItem("roomId")),user_id:Number(localStorage.getItem("id")),target_id:t},a=this.friends.map((function(e){return e.id==t}));a.length>=1||this.socket.emit("addFriend",e),this.eventSearch=!1},profile:function(){this.popMenu=!this.popMenu,this.onProfile=!0},showPopMenu:function(){this.popMenu=!this.popMenu},toMsg:function(t){var e=this;this.actTargetUser(t).then((function(){e.id_user=e.detailUser.id,e.id_target=e.targetUser.id,e.user=e.detailUser.name,e.target=e.targetUser.name,e.socket.emit("getListChat",{user:e.id_user,target:e.id_target,roomId:Number(localStorage.getItem("roomId"))}),e.showChat=!0}))},joinRoom:function(){this.socket.emit("joinRoom",Number(localStorage.getItem("roomId")))},getAllFriends:function(){this.socket.emit("allFriend",{id:Number(localStorage.getItem("id")),roomId:Number(localStorage.getItem("roomId"))})},resGetAllFriends:function(){var t=this;this.socket.on("resGetFriend",(function(e){t.friends=e}))},sendMsg:function(){var t={user:this.id_user,target:this.id_target,msg:this.text};this.socket.emit("sendMessage",t),this.text=""},resListChat:function(){var t=this;this.socket.on("resGetListChat",(function(e){t.chats=e}))}},Object(h["b"])({logout:"auth/logOut",actDetailUser:"users/actDetailUser",actTargetUser:"users/actTargetUser",actAllUsers:"users/actAllUsers"})),{},{onLogout:function(){var t=this;this.swalConfirm("Do you want to logout?","","question").then((function(e){e&&(t.logout(),t.$router.push("/login"))}))}}),mounted:function(){this.actDetailUser(localStorage.getItem("id")),this.joinRoom(),this.getAllFriends(),this.resGetAllFriends(),this.resListChat(),this.toMsg()}},$=N,M=(a("d846"),Object(r["a"])($,m,u,!1,null,"e689887e",null)),O=M.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container py-5 d-flex justify-content-center align-items-center"},[a("div",{staticClass:"col-md-4 col-12 shadow py-5 px-5",staticStyle:{background:"white","border-radius":"20px"},attrs:{id:"register"}},[t._m(0),a("small",[t._v("Let's create your account!")]),a("form",{staticClass:"mt-3",on:{submit:function(e){return e.preventDefault(),t.onReg()}}},[a("div",{staticClass:"form-group"},[a("h5",{staticClass:"text-bolder",attrs:{for:"exampleInputEmail1"}},[t._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"username",id:"exampleInputUsername1",required:""},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("h5",{attrs:{for:"exampleInputEmail1"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"email@mail.com",id:"exampleInputEmail1",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("h5",{attrs:{for:"exampleInputPassword1"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password",id:"exampleInputPassword1",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),a("button",{staticClass:"btn mainBtn w-100",staticStyle:{color:"white"},attrs:{type:"submit"}},[t._v(" Register ")])]),a("p",{staticClass:"mt-3 text-center"},[t._v("Register with")]),t._m(1)])])},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"main-font",staticStyle:{"text-align":"center","font-weight":"500","font-size":"22px"}},[t._v(" Register ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn w-100 mainBtn",staticStyle:{color:"white"}},[a("i",{staticClass:"fab fa-google"}),t._v(" Google ")])}],R={mixins:[C],data:function(){return{form:{username:"",email:"",password:""}}},methods:Object(f["a"])(Object(f["a"])({},Object(h["b"])({userRegister:"auth/register"})),{},{onReg:function(){var t=this;this.swalLoading("Processing Register"),this.userRegister(this.form).then((function(e){500===e.code?(t.swalLoadingClose(),t.swalPop("Register Error",e.message,"error")):(t.swalLoadingClose(),t.swalPop("Register Success","You can login now!","success"),t.$router.push("/login"))})).catch((function(t){console.log(t)}))}})},F=R,A=(a("6844"),Object(r["a"])(F,T,z,!1,null,null,null)),B=A.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container py-5 d-flex justify-content-center align-items-center"},[a("div",{staticClass:"col-md-4 col-12 shadow py-5 px-5",staticStyle:{background:"white","border-radius":"20px"},attrs:{id:"login"}},[t._m(0),a("small",[t._v("Hi, Wellcome back!")]),a("form",{staticClass:"mt-3",on:{submit:function(e){return e.preventDefault(),t.onLogin()}}},[a("div",{staticClass:"form-group"},[a("h5",{attrs:{for:"exampleInputEmail1"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"email@mail.com",id:"exampleInputEmail1"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("h5",{attrs:{for:"exampleInputPassword1"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",id:"exampleInputPassword1"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),a("button",{staticClass:"btn mainBtn w-100",staticStyle:{color:"white"},attrs:{type:"submit"}},[t._v(" Login ")])]),a("p",{staticClass:"mt-3",staticStyle:{"text-align":"center"}},[t._v("Login with")]),t._m(1),a("p",{staticClass:"mt-3 text-center",staticStyle:{"font-size":"12px"}},[t._v(" Dont have an account? "),a("router-link",{staticStyle:{color:"#7e98df","font-style":"none"},attrs:{to:"/register"}},[t._v("Sign Up")])],1)])])},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticStyle:{"text-align":"center",color:"#7e98df","font-weight":"500","font-size":"22px"}},[t._v(" Login ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn w-100 mainBtn",staticStyle:{color:"white"}},[a("i",{staticClass:"fab fa-google"}),t._v(" Google ")])}],q={mixins:[C],data:function(){return{form:{email:"",password:""}}},methods:Object(f["a"])(Object(f["a"])({},Object(h["b"])({userLogin:"auth/login",actDetailUser:"users/actDetailUser"})),{},{onLogin:function(){var t=this;this.userLogin(this.form).then((function(e){500==e.code?t.swalPop("Login Failed",e.message,"error"):t.actDetailUser(localStorage.getItem("id")).then((function(){t.$router.push("/")})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}})},H=q,J=(a("b0f8"),Object(r["a"])(H,G,W,!1,null,null,null)),Y=J.exports;s["default"].use(d["a"]);var Q=[{path:"/",name:"Home",component:O,meta:{auth:!0}},{path:"/register",name:"Register",component:B},{path:"/login",name:"Login",component:Y}],X=new d["a"]({mode:"history",base:"",routes:Q});X.beforeEach((function(t,e,a){t.matched[0].meta.auth?localStorage.getItem("token")?a():a({path:"/login"}):a()}));var K=X,V=(a("99af"),a("bc3a")),Z=a.n(V),tt={namespaced:!0,state:function(){return{getDetailUser:{},allUsers:[],detailTarget:{}}},mutations:{mutationSetUserDetail:function(t,e){t.getDetailUser=e},mutationSetTargetDetail:function(t,e){t.detailTarget=e},setAllUsers:function(t,e){t.allUsers=e}},actions:{actDetailUser:function(t,e){return new Promise((function(a,s){Z.a.get("".concat("http://54.164.121.31:4234/api","/user/").concat(e),{headers:{token:localStorage.getItem("token")}}).then((function(e){t.commit("mutationSetUserDetail",e.data.data[0]),a(e.data)})).catch((function(t){s(t)}))}))},actTargetUser:function(t,e){return new Promise((function(a,s){Z.a.get("".concat("http://54.164.121.31:4234/api","/user/").concat(e),{headers:{token:localStorage.getItem("token")}}).then((function(e){t.commit("mutationSetTargetDetail",e.data.data[0]),a(e.data)})).catch((function(t){s(t)}))}))},actionUpdateUser:function(t,e){return new Promise((function(t,a){Z.a.patch("".concat("http://54.164.121.31:4234/api","/user/").concat(localStorage.getItem("id")),e,{headers:{token:localStorage.getItem("token")}}).then((function(e){t(e.data)})).catch((function(t){console.loh(t),a(t)}))}))},actDeletePhoto:function(){return new Promise((function(t,e){Z.a.get("".concat("http://54.164.121.31:4234/api","/user/delete_photo/").concat(localStorage.getItem("id")),{headers:{token:localStorage.getItem("token")}}).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},actAllUsers:function(t,e){return new Promise((function(a,s){Z.a.post("".concat("http://54.164.121.31:4234/api","/allUser"),e).then((function(e){t.commit("setAllUsers",e.data.data),a(e.data)})).catch((function(t){s(t)}))}))}},getters:{detailUser:function(t){return t.getDetailUser},getAllUsers:function(t){return t.allUsers},getDetailTarget:function(t){return t.detailTarget}}},et=tt,at={namespaced:!0,state:function(){return{userData:{}}},getters:{getToken:function(t){return t.token},getUserData:function(t){return t.userData}},mutations:{setUserData:function(t,e){t.userData=e},deleteState:function(t){t.userData={}}},actions:{register:function(t,e){return new Promise((function(t,a){Z.a.post("".concat("http://54.164.121.31:4234/api","/register"),e).then((function(e){t(e.data)})).catch((function(t){a(t.response.data.message)}))}))},login:function(t,e){return new Promise((function(a,s){Z.a.post("".concat("http://54.164.121.31:4234/api","/login"),e).then((function(e){500===e.data.code||(localStorage.setItem("token",e.data.data.token),localStorage.setItem("username",e.data.data.username),localStorage.setItem("id",e.data.data.id),localStorage.setItem("name",e.data.data.id),localStorage.setItem("roomId",e.data.data.room_id),t.commit("setUserData",e.data.data)),a(e.data)})).catch((function(){s("Something wrong")}))}))},logOut:function(t){var e=t.commit;return new Promise((function(t){localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("id"),localStorage.removeItem("username"),localStorage.removeItem("roomId"),e("deleteState"),t(!0)}))}}},st=at;s["default"].use(h["a"]);var it=new h["a"].Store({modules:{users:et,auth:st}}),ot=a("5f5b"),rt=a("b1e0");a("f9e3"),a("2dd8"),a("7d05");s["default"].use(ot["a"]),s["default"].use(rt["a"]),s["default"].config.productionTip=!1,s["default"].use(v,{load:{key:"AIzaSyCHp9NDXwH42fkdmcguQud8_Lt_bW1G01s"}}),new s["default"]({router:K,store:it,render:function(t){return t(c)}}).$mount("#app")},"61aa":function(t,e,a){},6844:function(t,e,a){"use strict";a("e23c")},"6e21":function(t,e,a){},"7d05":function(t,e,a){},"85ec":function(t,e,a){},"9b76":function(t,e,a){},b0f8:function(t,e,a){"use strict";a("9b76")},d72e:function(t,e,a){"use strict";a("480b")},d846:function(t,e,a){"use strict";a("61aa")},e23c:function(t,e,a){}});
//# sourceMappingURL=app.5f70972e.js.map